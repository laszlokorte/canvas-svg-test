<!DOCTYPE html>
<html>
	<head>
    <meta charset="utf-8" />
		<title>FSM per Canvas</title>
    <link rel="stylesheet" href="style.css" />

	</head>
	<body>
    <h1>Canvas</h1>

    <canvas id="stage" width="800" height="600">
      Eine Final State Machine
    </canvas>


    <script type="text/javascript" src="common.js"></script>
    <script type="text/javascript">
      function setup(stage) {

        var states = [
          {
            pos: {x: 200, y: 200},
            transitions: []
          },
          {
            pos: {x: 500, y: 480},
            transitions: []
          },
          {
            pos: {x: 900, y: 280},
            transitions: []
          }
        ];

        var render = function() {
          var ctx = stage.getContext('2d');
          var width = stage.getAttribute('width');
          var height = stage.getAttribute('height');

          ctx.clearRect(0, 0, width, height);

          for(var i=0,j=states.length;i<j;i++) {
            var state = states[i];

            ctx.beginPath();
            ctx.arc(state.pos.x, state.pos.y, 70, 0, 2 * Math.PI, false);
            ctx.fillStyle = 'lightgrey';
            ctx.fill();
            ctx.lineWidth = 5;
            ctx.strokeStyle = 'darkgrey';
            ctx.stroke();
          }
        }

        return function() {
          setStageSize(stage, 1200, 600);
          render();
        };
      }

      var renderer = setup(document.getElementById('stage'));

      renderer();
    </script>
	</body>
</html>
